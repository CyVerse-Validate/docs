
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Setup Stampede2 and run PipelineAgavePy &#8212; Validate 1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Documentation Notes &amp; Discussion" href="notes.html" />
    <link rel="prev" title="Getting Help" href="develop.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="setup-stampede2-and-run-pipelineagavepy">
<h1>Setup Stampede2 and run PipelineAgavePy<a class="headerlink" href="#setup-stampede2-and-run-pipelineagavepy" title="Permalink to this headline">¶</a></h1>
<p>This tutorial assumes that you have set up accounts with TACC and Cyverse and be assigned to a project allocation.</p>
<div class="section" id="install-validate-1-2">
<h2>Install Validate 1.2<a class="headerlink" href="#install-validate-1-2" title="Permalink to this headline">¶</a></h2>
<p><strong>(initial step: SSH into Stampede2 with your client of choice)</strong></p>
<ul>
<li><p class="first">Your Stampede2 home directory supports up to 10GB of data, while your work directory allows for up to 1TB. Use the alias command “cdw” and “cdh” to switch been your work and home directories, respctively:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&gt;$ cdw
</pre></div>
</div>
</li>
<li><p class="first">Create a virtual environment to install the agavepy package with pip. See <a class="reference external" href="http://docs.python-guide.org/en/latest/dev/virtualenvs/">virtualenv</a> for more information. <strong>is this necessary or just good practice?</strong></p>
</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>&gt;$ virtualenv Validate1.2
</pre></div>
</div>
<ul class="simple">
<li>Change to new environment directory.</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>&gt;$ cd Validate1.2
</pre></div>
</div>
<ul class="simple">
<li>We need to use our new environment.</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>&gt;$ source bin/activate
</pre></div>
</div>
<ul class="simple">
<li>Next we need to install the packages required to run the Pipeline.</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>&gt;$ pip install agavepy numpy pandas statsmodels scipy
</pre></div>
</div>
<ul class="simple">
<li>Finally we need to clone the repo from Github that contains the Pipeline.</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>&gt;$ git clone https://github.com/CyVerse-Validate/Validate.git
</pre></div>
</div>
<p>You now should be setup to run the pipeline.</p>
</div>
<div class="section" id="using-the-validate-pipeline">
<h2>Using the Validate Pipeline<a class="headerlink" href="#using-the-validate-pipeline" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Move to PipeDevel directory. Use the standard tools cd, pwd, and ls to <a class="reference external" href="http://www.westwind.com/reference/os-x/commandline/navigation.html">navigate</a> on Stampede from the command line. If you’ve just completed the previous steps, simply use:</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>&gt;$ cd PipeDevel
</pre></div>
</div>
<ul class="simple">
<li>the command to initialize the pipeline requires several parameters. In addition to your Agave account infomation, you must specify if you want to run a simulation, what type of GWAS or GenSel tools to use, whether you need Winnow for further analysis, the type of data being used (PED, BED, TFAM), and where the data is located on the Discovery Environment.</li>
<li>A sample command line looks like this:</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>- &gt;$ -u *username* --password *password* -i \tp -f /dhbrand/My_Data -lmm True
</pre></div>
</div>
<p>This would instruct the script to run the TPED/TFAM files in the specified datastore directory through FaSt-LMM.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="terms.html"> Useful Terms</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html"> Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="citations.html"> Citations &amp; Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop.html"> Further Development &amp; Getting help</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"> Setting up the Validate Pipeineline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-validate-1-2">Install Validate 1.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-validate-pipeline">Using the Validate Pipeline</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notes.html"> Comments &amp; Discussion</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pipeline.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, UNCW Cyverse.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/pipeline.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>